
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë¶„ë¦¬ë°°ì¶œ ê°€ì´ë“œ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background: linear-gradient(to bottom, #e0f7fa, #ffffff);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .wrapper {
      background: white;
      padding: 40px 30px;
      border-radius: 20px;
      box-shadow: 0 6px 30px rgba(0, 0, 0, 0.1);
      text-align: center;
      max-width: 500px;
      width: 90%;
    }
    h1 {
      font-size: 2em;
      margin-bottom: 20px;
      color: #00796b;
    }
    input {
      width: 70%;
      padding: 12px;
      font-size: 1em;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-bottom: 10px;
    }
    button {
      padding: 12px 20px;
      font-size: 1em;
      border: none;
      border-radius: 8px;
      background-color: #00796b;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #004d40;
    }
    #result {
      margin-top: 20px;
      font-size: 1.1em;
      color: #333;
    }
    #imageContainer img {
      margin-top: 20px;
      max-width: 100%;
      border-radius: 10px;
    }
    select {
      margin-bottom: 10px;
      padding: 6px;
      font-size: 0.9em;
    }
    ul {
      text-align: left;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <h1>â™»ï¸ <span id="title">ë¶„ë¦¬ë°°ì¶œ ê°€ì´ë“œ</span></h1>
    <select id="langSwitcher" onchange="switchLanguage()">
      <option value="ko">í•œêµ­ì–´</option>
      <option value="en">English</option>
    </select>
    <input id="materialInput" list="materialList" type="text" placeholder="ì˜ˆ: PP, PET, ì¢…ì´íŒ© ë“±">
    <datalist id="materialList"></datalist>
    <button onclick="showGuide()">ê²€ìƒ‰</button>
    <div id="result"></div>
    <div id="imageContainer"></div>
    <hr style="margin: 30px 0;">
    <h2 id="historyTitle">ğŸ“Œ ìµœê·¼ ê²€ìƒ‰í•œ í’ˆëª©</h2>
    <ul id="searchHistory"></ul>
    <h2 id="allTitle">ğŸ—ƒï¸ ì „ì²´ í’ˆëª© ëª©ë¡</h2>
    <ul id="fullList"></ul>
  </div>
  <script>
    const guides = {
      "pp": {
        ko: { text: "PPëŠ” ë‚´ìš©ë¬¼ì„ ë¹„ìš°ê³  ë¼ë²¨ì„ ì œê±°í•œ í›„, ì„¸ì²™í•˜ê³  ë¶€í”¼ë¥¼ ì¤„ì—¬ ë°°ì¶œí•˜ì„¸ìš”.", image: "https://i.imgur.com/o4y8VUM.png" },
        en: { text: "For PP, empty the contents, remove the label, wash and compress before recycling.", image: "https://i.imgur.com/o4y8VUM.png" }
      },
      "pet": {
        ko: { text: "PETëŠ” ëšœê»‘ê³¼ ë¼ë²¨ì„ ì œê±°í•˜ê³  ì••ì°©í•˜ì—¬ ë°°ì¶œí•˜ì„¸ìš”.", image: "https://i.imgur.com/UeFk4KU.png" },
        en: { text: "Remove the cap and label from PET bottles and crush before recycling.", image: "https://i.imgur.com/UeFk4KU.png" }
      },
      "ì¢…ì´íŒ©": {
        ko: { text: "ì¢…ì´íŒ©ì€ ê¹¨ë—ì´ í—¹êµ° í›„ ë”°ë¡œ ë°°ì¶œí•˜ì„¸ìš”.", image: "https://i.imgur.com/MGmS7Gy.png" },
        en: { text: "Rinse paper packs clean and dispose of them separately.", image: "https://i.imgur.com/MGmS7Gy.png" }
      }
    };

    let language = 'ko';
    let history = [];

    function showGuide() {
      const input = document.getElementById('materialInput').value.trim().toLowerCase();
      const resultDiv = document.getElementById('result');
      const imageDiv = document.getElementById('imageContainer');
      const data = guides[input];

      if (data) {
        resultDiv.textContent = data[language].text;
        imageDiv.innerHTML = `<img src="${data[language].image}" alt="${input} ì´ë¯¸ì§€">`;
        if (!history.includes(input)) {
          history.unshift(input);
          updateHistory();
        }
      } else {
        resultDiv.textContent = language === 'ko' ? "í•´ë‹¹ í•­ëª©ì€ ë°ì´í„°ì— ì—†ìŠµë‹ˆë‹¤." : "This item is not found in the data.";
        imageDiv.innerHTML = "";
      }
    }

    function updateHistory() {
      const historyList = document.getElementById('searchHistory');
      historyList.innerHTML = '';
      history.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        historyList.appendChild(li);
      });
    }

    function switchLanguage() {
      language = document.getElementById('langSwitcher').value;
      document.getElementById('title').textContent = language === 'ko' ? 'ë¶„ë¦¬ë°°ì¶œ ê°€ì´ë“œ' : 'Recycling Guide';
      document.getElementById('historyTitle').textContent = language === 'ko' ? 'ğŸ“Œ ìµœê·¼ ê²€ìƒ‰í•œ í’ˆëª©' : 'ğŸ“Œ Recent Searches';
      document.getElementById('allTitle').textContent = language === 'ko' ? 'ğŸ—ƒï¸ ì „ì²´ í’ˆëª© ëª©ë¡' : 'ğŸ—ƒï¸ Full List';
      updateFullList();
    }

    function updateFullList() {
      const fullList = document.getElementById('fullList');
      fullList.innerHTML = '';
      const datalist = document.getElementById('materialList');
      datalist.innerHTML = '';

      Object.keys(guides).forEach(key => {
        const li = document.createElement('li');
        li.textContent = key;
        fullList.appendChild(li);

        const option = document.createElement('option');
        option.value = key;
        datalist.appendChild(option);
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      updateFullList();
    });
  </script>
</body>
</html>
